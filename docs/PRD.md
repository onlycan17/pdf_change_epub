# PDF to EPUB 변환기 프로젝트 - 제품 요구사항 문서 (PRD)

## 1. 개요

### 1.1 프로젝트 명
PDF to EPUB 변환기

### 1.2 프로젝트 목적
사용자가 제공한 PDF 문서를 자동으로 EPUB 전자책 형식으로 변환하여, 다양한 기기에서 읽을 수 있도록 지원하는 웹 애플리케이션 개발.

### 1.3 문제 정의
- 기존 PDF 문서는 다양한 기기에서 읽기에 불편함이 있음
- PDF의 텍스트가 문맥이 끊겨서 읽기 어려운 경우가 많음
- 이미지와 텍스트가 혼합된 PDF 문서의 구조를 EPUB으로 올바르게 변환하는 데 어려움이 있음
- 스캔된 PDF 문서의 텍스트 추출이 필요한 경우가 있음

### 1.4 해결 방안
- PDF 문서를 마크다운 형식으로 전처리하여 문맥을 자연스럽게 연결
- DeepSeek-V3.1 LLM 모델을 활용하여 문맥이 끊어지는 부분을 자연스럽게 연결
- 이미지와 텍스트를 구분하여 EPUB에 적절히 배치
- Tesseract.js OCR 엔진을 활용하여 스캔된 PDF 문서의 텍스트 추출 (영어 95% 이상, 한글 90% 이상 정확도 목표)

## 2. 비즈니스 요구사항

### 2.1 목표 사용자
- 연구자, 학생, 작가 등 PDF 문서를 자주 다루는 사용자
- 다양한 기기에서 전자책을 읽고자 하는 사용자

### 2.2 주요 기능
- PDF 파일 업로드 및 관리
- PDF 텍스트 전처리 및 마크다운 변환
- LLM을 활용한 문맥 연결 처리
- EPUB 문서 생성 및 다운로드
- PDF 이미지 추출 및 배치
- OCR을 통한 스캔본 텍스트 추출 (영어, 한글 지원)

### 2.3 비기능적 요구사항
- 사용자 친화적인 UI/UX 제공
- 빠른 처리 속도 (PDF 크기 기준 평균 1분 이내)
- 다양한 PDF 형식 지원 (텍스트 기반, 스캔본 등)
- 보안: 업로드된 파일은 일정 기간 후 자동 삭제

## 3. 사용자 스토리

### 3.1 기본 사용자 스토리
- 사용자는 PDF 파일을 업로드하여 EPUB 파일로 변환할 수 있다.
- 사용자는 변환된 EPUB 파일을 다운로드할 수 있다.
- 사용자는 스캔된 PDF 문서도 변환할 수 있다.

### 3.2 고급 사용자 스토리
- 사용자는 변환 과정에서 문맥 연결 처리 강도를 조절할 수 있다.
- 사용자는 EPUB 파일의 메타데이터(제목, 저자 등)를 수정할 수 있다.

## 4. 기술 요구사항

### 4.1 프론트엔드
- React.js 사용
- 반응형 웹 디자인
- 파일 업로드 및 진행 상황 표시 UI

### 4.2 백엔드
- Supabase 사용 (혹은 서버리스 아키텍처)
- PDF 처리 라이브러리 (pdf-lib, pdfjs 등)
- OCR 엔진 (Tesseract.js v5.0+, 한국어/영어 언어팩 지원, 정확도 90-95%)
- LLM API 연동 (OpenRouter를 통한 DeepSeek-V3.1 모델, 1K 토큰당 $0.001 비용)

### 4.3 데이터 저장
- 업로드된 PDF 파일 임시 저장
- 변환 중간 결과물 저장 (마크다운 등)
- EPUB 파일 임시 저장

## 5. 프로젝트 일정 및 마일스톤

### 5.1 MVP 개발 (1단계)
- PDF 업로드 및 기본 텍스트 추출
- 마크다운 변환
- EPUB 생성 및 다운로드

### 5.2 고급 기능 추가 (2단계)
- LLM을 활용한 문맥 연결 처리
- 이미지 추출 및 배치
- OCR 기능 추가

### 5.3 최적화 및 안정화 (3단계)
- 처리 속도 개선
- 다양한 PDF 형식 지원 강화
- UI/UX 개선

## 6. 성공 지표

- 사용자 만족도 (설문조사 등)
- 변환 성공률
- 평균 처리 시간
- 사용자 유지율

## 7. 위험 요소 및 대응 방안

| 위험 요소 | 설명 | 대응 방안 |
|-----------|------|------------|
| PDF 처리 오류 | 다양한 형식의 PDF 문서 처리 시 오류 발생 가능 | 다양한 샘플 PDF로 테스트, 에러 처리 로직 강화 |
| LLM API 비용 | LLM API 사용에 따른 비용 발생 | DeepSeek-V3.1 모델 사용 (1K 토큰당 $0.001), 처리량 제한, 캐싱 기능 추가 |
| OCR 정확도 | 스캔본 PDF의 OCR 정확도 문제 | Tesseract.js v5.0+ 사용 (영어 95%, 한글 90% 정확도 목표), 이미지 전처리, 사용자 수정 기능 제공 |

## 8. 유료/무료 정책

### 8.1 기본 무료 기능 (로그인 없이 광고 수익 모델)
- PDF 파일 업로드 (최대 10MB)
- 기본 텍스트 추출 및 마크다운 변환
- EPUB 문서 생성 및 다운로드
- 제한된 이미지 처리
- DeepSeek-V3.1 Free 모델 (일일 무료 사용량 제공) / 사용량 초과 시 유료 모델 전환 유도
- 광고 표시

### 8.2 유료 프리미엄 기능 (로그인 필요)
- 대용량 PDF 파일 업로드 (최대 300MB, 스트리밍 처리 및 메모리 최적화 적용)
- 고급 OCR 기능 (스캔본 PDF 텍스트 추출, 영어 95%/한글 90% 정확도, Tesseract.js v5.0+)
- 고해상도 이미지 추출 및 EPUB 배치
- DeepSeek-V3.1 LLM을 활용한 문맥 연결 처리 (1K 토큰당 $0.001)
- 사용자 정의 메타데이터 편집
- 광고 제거

### 8.3 결제 플랜
- **무료**: 기본 기능 + DeepSeek-V3.1 Free (일일 제한량), 광고 표시
- **프리미엄 (월 9.99달러)**: 무제한 LLM 사용 + 모든 고급 기능, 광고 제거

### 8.4 결제 시스템
- Stripe를 이용한 신용카드 결제
- 구글 계정을 통한 로그인 및 사용자 관리

## 9. 보안 및 개인정보 보호

### 9.1 데이터 보안
- 업로드된 모든 파일은 24시간 내 자동 삭제
- 사용자 데이터는 최소한으로 수집 및 저장
- 모든 통신은 HTTPS를 통해 암호화

### 9.2 개인정보 보호
- 사용자의 결제 정보는 Stripe에 안전하게 저장되며, 서버에는 보관되지 않음
- 사용자 이메일 외의 개인정보는 수집하지 않음
- GDPR 및 기타 관련 법규 준수

## 10. 향후 계획

### 10.1 단기 계획 (3개월 이내)
- 모바일 앱 출시 (iOS/Android)
- 추가 언어 지원 (중국어, 일본어 등)
- 사용자 피드백 시스템 구축

### 10.2 장기 계획 (6개월 이상)
- AI 기반 문서 요약 기능 추가
- 다양한 전자책 형식 지원 (MOBI, AZW 등)
- 협업 기능을 통한 문서 공유 및 공동 편집