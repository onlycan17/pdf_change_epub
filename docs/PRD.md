# 제품 요구사항 문서 (PRD)

## 1. 개요
- **제품명**: Python 기반 PDF → EPUB 변환기
- **목표**: 스캔/텍스트 PDF를 안정적으로 EPUB3 포맷으로 변환하는 백엔드 중심 솔루션 구축
- **주요 변경점**: 기존 Node.js/Vite 프런트엔드 중심 구조 → Python 서비스 + 향후 확장 가능한 API/CLI 구조

## 2. 사용자 시나리오
1. **문서 변환가** – 다수의 PDF를 EPUB으로 빠르게 변환하고자 하는 사용자
2. **출판사 운영자** – 자동화 파이프라인에 API를 연동해 반복 반복작업을 줄이고 싶은 담당자
3. **연구원/학생** – OCR이 필요한 스캔 문서를 전자책 뷰어에서 읽고 싶은 사용자

## 3. 핵심 요구사항
| ID | 설명 | 우선순위 |
|----|------|----------|
| PRD-01 | 텍스트 기반 PDF를 손실 없이 EPUB으로 변환 | ★★★ |
| PRD-02 | 스캔 PDF 자동 감지 및 OCR 적용 | ★★★ |
| PRD-03 | 변환 결과 메타데이터(제목, 저자, 목차) 반영 | ★★☆ |
| PRD-04 | CLI 또는 REST API로 노출 가능하도록 설계 | ★★☆ |
| PRD-05 | 변환 로그 및 오류 리포트 제공 | ★★☆ |
| PRD-06 | 향후 멀티 언어 OCR 확장 용이성 확보 | ★★☆ |

## 4. 성공 지표
- 첫 릴리스에서 **텍스트 추출 정확도 ≥ 98%**
- 스캔 PDF 기준 **OCR 처리 성공률 ≥ 90%**, 실패 시 명확한 에러 로그 제공
- 변환 완료 후 EPUB 뷰어(Apple Books, Calibre 등)에서 검증 오류 0건

## 5. 비기능 요구사항
- **언어/런타임**: Python 3.12+
- **성능**: 30MB 이하 PDF 기준 30초 내 변환 완료를 목표
- **확장성**: 서비스/도메인 레이어 분리, 추후 웹 API/CLI 공존 가능 구조
- **품질**: 타입힌트, 자동 테스트(Pytest), 린트(ruff) 도입

## 6. 마일스톤(초안)
1. **M0 – 설계 확정**: 아키텍처 다이어그램, 기술 스택 선정, 샘플 PDF 분석
2. **M1 – 코어 파이프라인**: PDF 파싱, 텍스트 정규화, EPUB 생성기 1차 완성
3. **M2 – OCR 통합**: Tesseract 또는 대체 OCR 연결 및 스캔 자동 감지
4. **M3 – API/CLI 외부화**: FastAPI 기반 REST 또는 Click 기반 CLI 제공
5. **M4 – 품질 확보**: 자동 테스트, 배포 파이프라인, 모니터링 추가

---
본 문서는 파이썬 전환 후 기준선입니다. 세부 항목은 설계/기능 명세와 연동하여 주기적으로 업데이트하세요.
