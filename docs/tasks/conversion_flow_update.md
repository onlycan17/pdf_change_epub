# 업로드 → 변환 흐름 개선 및 옵션 UI 재배치 계획

## 배경
- 업로드 페이지에서 변환 옵션 카드가 세로로만 나열되어 가독성이 떨어집니다.
- `FileUpload` → `ConversionProgress` → `Download` 흐름이 실제 변환 로직과 연결되어 있지 않고 시뮬레이션 타이머만 작동합니다.

## 목표
1. 업로드 페이지의 변환 옵션을 반응형 카드 그리드(설정에 따라 2~3열)로 재배치하여 정보 가독성을 높입니다.
2. 업로드 후 실제 `ConversionOrchestrator`를 통해 변환이 진행되도록 `usePDFConversion` 훅을 결합하고, 진행 페이지에서 실시간 스테이지와 진행률을 표출합니다.
3. 변환 성공 시 실제 마크다운 결과와 메타데이터를 다운로드 페이지로 전달하고, 실패 시 오류 메시지를 표준화합니다.

## 작업 항목
- [ ] `FileUpload` 페이지의 옵션 카드 레이아웃을 `grid` 기반으로 리팩터링하여 데스크톱 3열/태블릿 2열/모바일 1열 배치를 지원
- [ ] 옵션 정의를 배열 데이터로 추출하고 공통 카드 컴포넌트로 렌더링하여 중복 제거
- [ ] 업로드 페이지에서 `usePDFConversion` 훅 사용, 선택 옵션을 `ConversionOptions` 타입으로 매핑하여 진행 페이지로 전달
- [ ] `ConversionProgress` 페이지에서 시뮬레이션 로직 제거, 실제 훅(`usePDFConversion`)을 사용해 스테이지/진행률 반영 및 성공 시 다운로드 페이지로 이동
- [ ] 에러 상태 시 오류 안내 및 업로드 페이지 복귀 버튼 제공
- [ ] TODO 문서 및 관련 문서(필요 시 UI 사양) 업데이트
- [ ] `npm run test`, `npm run check` 실행으로 회귀 방지

## 리스크 및 대응
- Web Worker가 로컬 환경에서 초기화 실패 시 변환이 진행되지 않을 수 있음 → 로거/에러 메시지로 사용자에게 안내하고 향후 폴백 전략 모색
- 업로드 페이지 state 구조 변경 시 라우팅 연동 문제 → `navigate`로 전달하는 `state` 타입 명시 및 존재 여부 검사
- UI 리팩토링 시 Tailwind 클래스 충돌 가능 → 기존 클래스 간소화, 공통 스타일 유지

## 검증 방법
1. 로컬에서 PDF 업로드 후 변환 진행, 진행률이 단계적으로 업데이트되는지 확인
2. 변환 성공 후 다운로드 페이지에서 결과 요약 노출 여부 확인
3. Vitest + lint/typecheck 전체 실행
