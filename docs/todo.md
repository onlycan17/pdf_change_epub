# PDF to EPUB 변환기 TODO 리스트

## 프로젝트 개요
Python 기반 PDF → EPUB 변환기로, 한국어 처리에 최적화되고 React 기반 웹 프론트엔드를 제공합니다. OCR 기술을 활용한 스캔 문서 지원, EPUB3 표준 준수, CLI/API 인터페이스를 목표로 합니다.

### 현재 상태
- 기본 프로젝트 구조 및 품질 인프라 완료
- Python 백엔드 개발 시작 단계
- 핵심 라이브러리 목록 업데이트 완료 (requirements.txt)

---

## 현재 작업 (M0: 프로젝트 초기 설정 및 설계 확정)

### 트랙별 구현 항목 정리
- **백엔드**
  - [x] FastAPI 애플리케이션 구조, 의존성 주입, Celery 비동기 파이프라인 구현 (자세한 진행 사항은 아래 "아키텍처 설계" 및 "변환 오케스트레이션" 참고)
  - [x] 변환 파이프라인(분석 → OCR/LLM → EPUB 생성) 및 Stripe 결제 API 구축
  - [x] 테스트/린트/타입 검사 체계 정비 (pytest, ruff, mypy)
- **프론트엔드**
  - [ ] 파일 드래그 앤 드롭 업로드 UI
  - [ ] 변환 상태 실시간 표시(UI + WebSocket/SSE 연동)
  - [ ] 접근성(A11y) 가이드라인 적용 및 다크 모드 대응
  - [ ] Stripe Checkout/포털 연동용 React 컴포넌트 개발
- **설계·문서**
  - [x] 기술 스택, 아키텍처, 오케스트레이션 설계 문서화 (`docs/tech_stack.md`, `docs/architecture.md`, `docs/CONVERSION_ORCHESTRATOR.md`)
  - [x] 가격 정책/결제 설계 문서 (`docs/pricing_model.md`, `docs/stripe_integration.md`)
  - [ ] 프론트엔드 화면 설계 및 UX 플로우 문서화 (와이어프레임, 상태 다이어그램)

### 아키텍처 설계
- [x] 기술 스택 선정 (Python, FastAPI, React, pypdf/PaddleOCR, ebooklib)
  - 참고: [docs/tech_stack.md](docs/tech_stack.md)
- [x] 상세 아키텍처 다이어그램 작성 (서비스/도메인 레이어 분리)
  - 참고: [docs/architecture.md](docs/architecture.md)
- [x] 데이터 흐름 정의 (아래 두 워크플로우로 구체화)
  - 참고: [docs/CONVERSION_ORCHESTRATOR.md](docs/CONVERSION_ORCHESTRATOR.md)
    - **스캔 PDF**: 에이전트 기반 처리 (멀티모달 LLM으로 이미지 분석 + OCR로 텍스트 추출) → 1차 마크다운 생성 → LLM 텍스트 보정 → 2차 마크다운 업데이트 → EPUB 생성
- [x] 의존성 주입 방식 결정 (FastAPI의 `Depends` 활용)
  - 참고: [docs/detailed_architecture.md](docs/detailed_architecture.md)
- [x] Python 가상 환경 설정 (.venv)
- [x] 핵심 라이브러리 의존성 정의 완료 (requirements.txt 업데이트)
- [x] IDE/개발 환경 최적화 (VSCode Python 확장자 설정)
- [x] 디버깅 환경 구축 (logging, breakpoint 설정) - 2025-09-19 완료

  - [x] 중분류: 비동기/동기 분기 처리 필요성 정의
  - [x] 중분류: 결과 타입(설정 객체, `Depends`) 혼합 처리 전략 정리
#### 진행 로그
- 2025-09-19: `inspect.isawaitable`을 사용해 동기/비동기 의존성을 모두 처리하도록 `create_dependency_chain`을 보완하고, `Depends` 객체 직접 전달 시 재포장하지 않도록 분기 추가.

- [x] 대분류: 해결책 설계
  - [x] 중분류: FastAPI 실제 `Depends` 클래스 타입 확인 방법 정리
  - [x] 중분류: 대체 검사 방식(예: `fastapi.params.Depends`) 결정

#### 진행 로그
- 2025-09-19: FastAPI `Depends` 타입을 `fastapi.params.Depends`로 식별하도록 수정하고 정적 분석/테스트를 재실행하여 경고가 사라짐을 확인.

### 버그 수정: PDFAnalyzer bytes.read 경고 처리
- [x] 대분류: 원인 분석
  - [x] 중분류: Pylance 경고 발생 위치(`analyze_pdf`) 확인
- [x] 대분류: 해결책 설계
  - [x] 중분류: 안전한 타입 가드/사용자 정의 프로토콜 도입 여부 결정
  - [x] 중분류: `isinstance` 기반 분기와 예외 처리 전략 확정
- [x] 대분류: 구현 및 검증

---
**목표**: PDF 추출, OCR 처리, EPUB 생성 기본 기능 완성

- [x] **워크플로우 B (스캔 PDF)**: 에이전트 기반 처리 모듈 설계
  - 참고: [docs/CONVERSION_ORCHESTRATOR.md](docs/CONVERSION_ORCHESTRATOR.md)
    - [x] PaddleOCR 연동 에이전트 개발 (페이지별 텍스트 추출)
    - [x] 에이전트 결과 종합 및 마크다운 생성 로직 구현
- [x] 메타데이터 (제목, 저자 등) 추출 기능
  - 참고: [docs/detailed_architecture.md](docs/detailed_architecture.md)
 - [x] ebooklib을 활용한 EPUB 생성기 개발

**변환 오케스트레이션**
- [x] 변환 파이프라인 통합 관리자 개발 (인메모리 상태관리, 비동기 실행, 상태/다운로드/취소 API 연동)
  - 참고: [docs/CONVERSION_ORCHESTRATOR.md](docs/CONVERSION_ORCHESTRATOR.md)

**EPUB 생성 모듈**
- [x] EPUB3 표준 준수 구조 설계
  - 참고: [docs/detailed_architecture.md](docs/detailed_architecture.md)
- [x] ebooklib을 활용한 EPUB 생성기 개발
 - [x] 목차 자동 생성 알고리즘 (제목 기준)
- [x] 이미지 최적화 및 WebP 변환
 - [x] 스타일시트(CSS) 적용 및 가독성 개선
 - [x] EPUB 유효성 검증 기능

**변환 오케이스트레이션**
- [x] 변환 파이프라인 통합 관리자 개발
  - 참고: [docs/CONVERSION_ORCHESTRATOR.md](docs/CONVERSION_ORCHESTRATOR.md)
- [x] 에러 핸들링 및 복구 메커니즘
- [x] 대용량 문서를 위한 청크 단위 처리 로직 구현
- [x] 메모리 사용량 최적화 (대용량 PDF 지원)

 - [x] 결과 파일 저장 위치 옵션  
   - 구현자: withrun
   - 커밋: fcedcc6
   - 날짜: 2025-09-23 13:50:20 +0900

- [x] FastAPI 애플리케이션 구조 설계
- [x] FastAPI 애플리케이션 구조 설계
  - 상태: 완료 (앱 팩토리, 의존성 주입, lifespan, 헬스체크, 기본 미들웨어 모두 구현)
  - 간단 계획:
     1. `app/core/app_factory.py`로 앱 생성/라우터 등록 중앙화 ✅ (완료: 최소 구현 추가)
     2. 의존성 주입(서비스 초기화)와 lifespan 관리 정리 ✅ (완료: ServiceDependencies, lifespan 컨텍스트 구현)
     3. OpenAPI/Docs 확장 및 표준화 (보안 스키마, 공통 응답 모델) ✅ (기본 구현 완료)
     4. 테스트용 헬스체크 및 기본 미들웨어 검증 ✅ (완료: /health 엔드포인트, 전역 예외 처리 미들웨어)
     5. 배포(uvicorn/gunicorn) 가이드와 dockerfile 연동 ✅ (완료: run() 함수 포함)
   - 참고: [docs/detailed_architecture.md](docs/detailed_architecture.md)
   - 구현자: withrun
   - 커밋: 33eb9c8
   - 날짜: 2025-09-23
- [x] 파일 업로드 엔드포인트 (`/api/upload`)
   - 상태: 완료 (기본 업로드 및 변환 시작 기능 구현)
   - 구현된 기능:
     1. PDF 파일 업로드 및 검증 (파일 형식, 크기) ✅
     2. 변환 작업 시작 엔드포인트 (`/api/v1/conversion/start`) ✅
     3. 파일 분석 엔드포인트 (`/api/v1/conversion/analyze`) ✅
     4. 메타데이터 추출 엔드포인트 (`/api/v1/conversion/metadata`) ✅
     5. 변환 상태 조회 및 결과 다운로드 ✅
   - 구현자: withrun
   - 커밋: 기존 구현 포함
   - 날짜: 2025-09-23
   - 참고: [docs/detailed_architecture.md](docs/detailed_architecture.md)
- [x] 비동기 처리를 위한 Celery/RQ 도입
  - 구현자: withrun
  - 커밋: 33eb9c8
  - 날짜: 2025-09-24 13:15:42 +0900
  - 메모: Celery 설정(celery_config), 비동기 큐 서비스 및 작업 태스크 구현 완료, 테스트 재설계로 안정화
  - 참고: [docs/CONVERSION_ORCHESTRATOR.md](docs/CONVERSION_ORCHESTRATOR.md)
- [x] 요청/응답 데이터 검증 (Pydantic 활용)
  - 구현자: withrun
  - 커밋: (미정)
  - 날짜: 2025-09-24 13:36:10 +0900
  - 메모: FastAPI 엔드포인트 응답을 Pydantic 모델로 구조화하고 테스트를 최신 스키마에 맞게 갱신
- [x] LLM 사용량 기반 가격 산정 모델 설계
  - 구현자: withrun
  - 커밋: (미정)
  - 날짜: 2025-09-24 13:36:10 +0900
  - 메모: docs/pricing_model.md에 토큰·OCR·스토리지 기반 비용 공식과 플랜 구성을 정의
- [x] 결제 시스템 연동 (Stripe)
  - 구현자: withrun
  - 커밋: (미정)
  - 날짜: 2025-09-24 13:40:00 +0900
  - 메모: docs/stripe_integration.md에 Checkout/Webhook/Supabase 사용량 동기화 설계 정리 (설계만 완료, 실제 결제 API/코드는 추후 구현)
  - [x] Stripe 결제 API 구현
    - 구현자: withrun
    - 커밋: (미정)
    - 날짜: 2025-09-24 15:33:07 +0900
    - 메모: `/api/v1/billing` 라우터, Stripe SDK 연동(Checkout/포털/단일 결제) 및 설정 추가

### 품질/테스트 정리(2025-09-24)
- [x] 린트 경고 전면 제거(ruff) 및 포맷팅 정리
  - 구현자: withrun
  - 커밋: 33eb9c8
  - 날짜: 2025-09-24 13:15:42 +0900
  - 메모: 미사용 임포트/변수 제거, f-string 접두사 정리, 테스트 파일 경고 제거
- [x] 테스트 재설계(옵션 A, 현행 Celery + In-memory JobStore 기준)
  - 구현자: withrun
  - 커밋: 33eb9c8
  - 날짜: 2025-09-24 13:15:42 +0900
  - 메모: 레거시 DB 가정 제거, API 응답 스키마 단언 업데이트, API Key 헤더 적용, 취소 메서드(DELETE) 반영, Celery 태스크 .run() 호출로 안정화

### 프론트엔드 UI/UX 구현 (상세)

#### **M1: 프로젝트 설정 및 초기 구조 (1주)**
**목표**: React + TypeScript 개발 환경 구축 및 기본 프로젝트 구조 완성

**프로젝트 초기 설정**
- [ ] Vite + React 18 + TypeScript 프로젝트 생성
- [ ] ESLint + Prettier + Husky 코드 품질 도구 설정
- [ ] React Router DOM 라우팅 구성
- [ ] 환경 변수 설정 (.env 파일 구성)
- [ ] Git hooks (pre-commit, pre-push) 설정
- [ ] 개발 서버 및 빌드 스크립트 구성

**디렉토리 구조 설계**
- [ ] `src/components/` - 재사용 가능한 컴포넌트 구조
  - `src/components/common/` - 공통 컴포넌트 (Button, Input, Modal 등)
  - `src/components/layout/` - 레이아웃 컴포넌트 (Header, Footer, Sidebar 등)
  - `src/components/conversion/` - 변환 관련 컴포넌트
  - `src/components/premium/` - 프리미엄 기능 관련 컴포넌트
- [ ] `src/pages/` - 페이지 컴포넌트 구조
  - `src/pages/Home.tsx` - 홈 페이지
  - `src/pages/UploadPage.tsx` - 파일 업로드 페이지
  - `src/pages/ConvertPage.tsx` - 변환 진행 페이지
  - `src/pages/DownloadPage.tsx` - 다운로드 페이지
  - `src/pages/PremiumPage.tsx` - 프리미엄 플랜 페이지
  - `src/pages/ProfilePage.tsx` - 사용자 프로필 페이지
- [ ] `src/services/` - API 서비스 레이어
- [ ] `src/hooks/` - 커스텀 React 훅
- [ ] `src/contexts/` - React Context 상태 관리
- [ ] `src/types/` - TypeScript 타입 정의
- [ ] `src/utils/` - 유틸리티 함수
- [ ] `src/styles/` - 전역 스타일시트 및 CSS 변수

#### **M2: 핵심 컴포넌트 개발 (2주)**
**목표**: 주요 UI 컴포넌트 구현 및 기본 레이아웃 완성

**공통 컴포넌트**
- [ ] Button 컴포넌트 (다양한 스타일과 상태 지원)
  - 기본 버튼, 아이콘 버튼, 로딩 버튼, 비활성화 버튼
  - 크기 변형 (sm, base, lg)
  - 컬러 변형 (primary, secondary, success, danger, warning)
- [ ] Input 컴포넌트 (텍스트, 파일, 숫자 입력)
  - 라벨 및 유효성 검증 메시지
  - 에러 상태 및 성공 상태 스타일
- [ ] Modal 컴포넌트 (팝업 다이얼로그)
  - 제목, 내용, 버튼 영역 구조
  - 오버레이 및 애니메이션 효과
- [ ] LoadingSpinner 컴포넌트 (로딩 상태 표시)
  - 다양한 로딩 애니메이션 스타일
  - 오버레이 로딩 컴포넌트
- [ ] Toast/Notification 컴포넌트 (메시지 알림)
  - 성공, 오류, 경고, 정보 메시지 스타일
  - 자동 사라지기 및 수동 닫기 기능
- [ ] ProgressTracker 컴포넌트 (진행률 표시)
  - 단계별 진행 표시 (스텝 바)
  - 퍼센트 진행률 바
  - 진행 상태 텍스트 표시

**레이아웃 컴포넌트**
- [ ] Header 컴포넌트 (네비게이션 헤더)
  - 로고 및 앱 이름
  - 메뉴 네비게이션 (홈, 변환, 프리미엄)
  - 사용자 프로필 드롭다운
  - 모바일 반응형 메뉴 (햄버거 아이콘)
- [ ] Footer 컴포넌트 (푸터 정보)
  - 저작권 정보
  - 링크 (이용약관, 개인정보처리방침)
  - 소셜 미디어 링크
- [ ] MainLayout 컴포넌트 (메인 레이아웃 템플릿)
  - 헤더, 메인 콘텐츠, 푸터 구조
  - 반응형 그리드 레이아웃
  - 사이드바 지원 (필요 시)

**변환 관련 컴포넌트**
- [ ] FileUpload 컴포넌트 (파일 업로드)
  - 드래그 앤 드롭 영역
  - 파일 선택 버튼
  - 파일 목록 표시 (선택된 파일)
  - 파일 유효성 검증 (PDF 형식, 크기 제한)
  - 파일 삭제 및 재선택 기능
  - 업로드 진행률 표시
- [ ] PDFViewer 컴포넌트 (PDF 미리보기)
  - PDF.js를 통한 PDF 렌더링
  - 페이지 네비게이션 (이전/다음 페이지)
  - 확대/축소 기능
  - 페이지 정보 표시
  - 로딩 상태 처리
- [ ] EPUBPreview 컴포넌트 (EPUB 미리보기)
  - EPUB 파일 내용 미리보기
  - 목차 표시
  - 페이지 네비게이션
  - 다운로드 버튼
- [ ] ConversionStatus 컴포넌트 (변환 상태 표시)
  - 실시간 상태 업데이트 (WebSocket/SSE)
  - 진행률 바 및 퍼센트 표시
  - 현재 처리 단계 표시
  - 예상 남은 시간 표시
  - 오류 메시지 표시
- [ ] ResultDisplay 컴포넌트 (결과 표시)
  - 변환 성공/실패 상태
  - 다운로드 버튼
  - 결과 파일 정보 (크기, 페이지 수 등)
  - 공유 버튼 (링크 복사, 소셜 공유)

**프리미엄 기능 컴포넌트**
- [ ] PricingCard 컴포넌트 (가격 플랜 카드)
  - 플랜 이름 및 가격 표시
  - 기능 목록 표시
  - 현재 플램 표시 (사용자의 경우)
  - 선택/업그레이드 버튼
- [ ] StripeCheckoutButton 컴포넌트 (결제 버튼)
  - Stripe Checkout 연동
  - 로딩 상태 처리
  - 결제 성공/실패 처리
- [ ] CustomerPortalButton 컴포넌트 (고객 포털)
  - 구독 관리 페이지 연결
  - 결제 내역 확인
  - 구독 취소 기능
- [ ] UsageTracker 컴포넌트 (사용량 추적)
  - 월간 사용량 표시
  - 제한량 경고 표시
  - 업그레이드 권유 메시지

#### **M3: 페이지 구현 (2주)**
**목표**: 모든 페이지 컴포넌트 구현 및 라우팅 연동

**홈 페이지 (Home.tsx)**
- [ ] 메인 히어로 섹션
  - 앱 소개 및 주요 기능 설명
  - 시연 영역 또는 스크린샷
  - CTA (Call to Action) 버튼
- [ ] 특징 섹션
  - 주요 기능 아이콘 및 설명
  - 사용자 이점 강조
- [ ] 사용 예시 섹션
  - 변환 전후 비교 이미지
  - 성공 사례 또는 후기
- [ ] FAQ 섹션
  - 자주 묻는 질문 및 답변
  - 접근성 확장/축소 기능

**업로드 페이지 (UploadPage.tsx)**
- [ ] 파일 업로드 영역
  - 드래그 앤 드롭 인터페이스
  - 파일 선택 버튼
  - 지원 형식 및 크기 안내
- [ ] 파일 목록 표시
  - 선택된 파일 정보 표시
  - 파일 삭제 및 재선택
  - 파일 유효성 검증 피드백
- [ ] 변환 옵션 설정
  - OCR 언어 선택 (한글, 영어, 자동)
  - 출력 품질 설정
  - EPUB 메타데이터 입력 (제목, 저자 등)
- [ ] 업로드 및 변환 시작 버튼
  - 유효성 검증
  - 로딩 상태 처리
  - 오류 처리

**변환 진행 페이지 (ConvertPage.tsx)**
- [ ] 실시간 진행 상태 표시
  - 현재 처리 단계 표시
  - 진행률 바 및 퍼센트
  - 예상 남은 시간
- [ ] 처리 상세 정보
  - 현재 페이지 처리 정보
  - OCR 처리 상태
  - EPUB 생성 상태
- [ ] 진행 로그 표시
  - 처리 과정 로그
  - 오류 메시지 표시
- [ ] 취소 버튼
  - 변환 중단 기능
  - 확인 다이얼로그

**다운로드 페이지 (DownloadPage.tsx)**
- [ ] 변환 결과 표시
  - 성공/실패 상태 아이콘
  - 결과 파일 정보
  - 생성 시간 및 크기
- [ ] EPUB 미리보기
  - 목차 표시
  - 샘플 페이지 미리보기
- [ ] 다운로드 옵션
  - EPUB 파일 다운로드
  - 메타데이터 다운로드 (JSON)
- [ ] 공유 기능
  - 링크 복사
  - 소셜 미디어 공유
- [ ] 추가 작업 버튼
  - 변환 재시작
  - 다른 파일 변환
  - 홈으로 이동

**프리미엄 페이지 (PremiumPage.tsx)**
- [ ] 플랜 소개 섹션
  - 프리미엄 기능 설명
  - 가격 비교 테이블
- [ ] 플랜 카드 그리드
  - 무료 플랜
  - 베이직 플랜
  - 프로 플랜
  - 기업 플랜
- [ ] 기능 비교 테이블
  - 모든 플랜 기능 상세 비교
  - 체크 아이콘 및 X 아이콘
- [ ] FAQ 섹션
  - 결제 관련 질문
  - 구독 관련 질문
  - 환불 정책
- [ ] 고객 후기 섹션
  - 실제 사용자 후기
  - 평점 표시

**프로필 페이지 (ProfilePage.tsx)**
- [ ] 사용자 정보 표시
  - 이메일 및 프로필 사진
  - 가입일 및 마지막 로그인
- [ ] 사용량 통계
  - 월간 사용량 그래프
  - 누적 변환 횟수
  - 저장된 파일 목록
- [ ] 계정 설정
  - 비밀번호 변경
  - 이메일 변경
  - 알림 설정
- [ ] 결제 정보
  - 현재 플랜 표시
  - 결제 내역
  - 구독 관리 (Customer Portal 연동)

#### **M4: 상태 관리 및 API 통합 (1주)**
**목표**: 전역 상태 관리 및 백엔드 API 연동

**상태 관리 구조**
- [ ] AppContext 설정 (전역 상태 관리)
  - 사용자 인증 상태
  - 변환 작업 상태
  - 애플리케이션 설정
- [ ] AuthContext 설정 (인증 상태 관리)
  - 로그인/로그아웃 상태
  - 사용자 프로필 정보
  - 인증 토큰 관리
- [ ] ConversionContext 설정 (변환 상태 관리)
  - 현재 변환 작업 목록
  - 진행 중인 작업 상태
  - 완료된 작업 기록

**API 서비스 레이어**
- [ ] api.ts (Axios 클라이언트 설정)
  - 기본 API 클라이언트 구성
  - 요청/응답 인터셉터
  - 인증 헤더 자동 추가
  - 에러 처리 핸들러
- [ ] authService.ts (인증 API)
  - 로그인 API 호출
  - 회원가입 API 호출
  - 로그아웃 API 호출
  - 토큰 갱신 API 호출
- [ ] conversionService.ts (변환 API)
  - 파일 업로드 API
  - 변환 시작 API
  - 상태 조회 API
  - 결과 다운로드 API
- [ ] billingService.ts (결제 API)
  - 결제 세션 생성 API
  - 구독 정보 조회 API
  - 사용량 조회 API

**커스텀 React 훅**
- [ ] useAuth 훅 (인증 관리)
  - 로그인/로그아웃 기능
  - 사용자 정보 관리
  - 인증 상태 추적
- [ ] useConversion 훅 (변환 관리)
  - 변환 작업 생성
  - 진행 상태 추적
  - 결과 처리
- [ ] useWebSocket 훅 (실시간 통신)
  - WebSocket 연결 관리
  - 메시지 수신/발신
  - 연결 상태 추적
- [ ] useLocalStorage 훅 (로컬 저장소)
  - 로컬 데이터 저장/조회
  - 데이터 만료 처리
  - 오류 처리

#### **M5: UI/UX 디자인 시스템 (1주)**
**목표**: 일관된 디자인 시스템 구축 및 적용

**디자인 토큰 정의**
- [ ] 색상 시스템
  - 주색상 (primary, secondary)
  - 상태 색상 (success, warning, error, info)
  - 중성 색상 (gray scale)
  - 브랜드 색상 정의
- [ ] 타이포그래피
  - 폰트 패밀리 정의
  - 제목, 본문, 캡션 크기 계층
  - 글자 두께 계층
  - 줄 높이 및 문자 간격
- [ ] 간격 시스템
  - 8px 기반 그리드 시스템
  - 컴포넌트 간격 토큰
  - 패딩 및 마진 토큰
- [ ] 그림자 시스템
  - 다양한 레벨의 그림자
  - 컴포넌트에 적용할 그림자
- [ ] 둥글기 (Border Radius)
  - 작은, 중간, 큰 둥글기 토큰
  - 완전히 둥근 모서리

**전역 스타일시트**
- [ ] index.css (기본 CSS)
  - CSS 변수 정의
  - 기본 리셋 스타일
  - 글로벌 스타일
- [ ] globals.css (전역 변수)
  - 디자인 토큰 변수
  - 믹스인 및 헬퍼 함수
  - 애니메이션 정의

**테마 시스템**
- [ ] 라이트 테마 기본 설정
- [ ] 다크 테임 구현
  - CSS 변수 기반 테임 전환
  - 사용자 선호도 저장
  - 시스템 테임 자동 감지
- [ ] 커스텀 테임 확장성
  - 테임 전환 애니메이션
  - 테임 전환 버튼

#### **M6: 접근성 및 국제화 (1주)**
**목표**: 웹 접근성 표준 준수 및 다국어 지원

**접근성 (A11y) 구현**
- [ ] 키보드 네비게이션
  - Tab 순서 정의
  - Enter/Space 키 활성화
  - ESC 키로 닫기 기능
- [ ] ARIA 레이블 및 역할
  - 스크린 리더 호환성
  - 라이브 리전 (진행률 업데이트)
  - 접근 이름 및 설명
- [ ] 색상 대비율 준수
  - 텍스트와 배경 최소 대비율 4.5:1
  - 큰 텍스트 대비율 3:1
  - 오류 상태 색상 대비
- [ ] 포커스 관리
  - 포커스 아웃 처리
  - 모달 내 포커스 순서
  - 스킵 네비게이션 링크
- [ ] 반응형 디자인
  - 모바일, 태블릿, 데스크톱 최적화
  - 터치 타겟 크기 최소 44x44px
  - 가로 세로 모드 대응

**국제화 (i18n)**
- [ ] 다국어 지원 구조
  - 언어 파일 구조 (ko, en, ja, zh)
  - 번역 관리 도구 설정
  - 언어 전환 컴포넌트
- [ ] 날짜 및 숫자 형식화
  - 지역별 날짜 형식
  - 지역별 숫자 형식
  - 통화 형식화
- [ ] RTL (Right-to-Left) 지원
  - 아랍어, 히브리어 지원
  - 레이아웃 반전 처리
  - 텍스트 방향 전환

#### **M7: 테스트 및 품질 보증 (1주)**
**목표**: 테스트 커버리지 확보 및 코드 품질 향상

**단위 테스트**
- [ ] React 컴포넌트 테스트 (React Testing Library)
  - Button, Input, Modal 등 공통 컴포넌트 테스트
  - 사용자 상호작용 테스트 (클릭, 입력, 선택)
  - 조건부 렌더링 테스트
  - 에러 상태 처리 테스트
- [ ] 커스텀 훅 테스트
  - useAuth 훅 테스트
  - useConversion 훅 테스트
  - useWebSocket 훅 테스트
- [ ] 유틸리티 함수 테스트
  - 데이터 포맷터 테스트
  - 검증 함수 테스트
  - API 헬퍼 함수 테스트

**통합 테스트**
- [ ] API 통합 테스트
  - 파일 업로드 통합 테스트
  - 변환 프로세스 통합 테스트
  - 인증 흐름 통합 테스트
- [ ] 상태 관리 통합 테스트
  - Context Provider 테스트
  - 상태 업데이트 테스트
  - 비동기 상태 처리 테스트
- [ ] WebSocket 통합 테스트
  - 실시간 통신 테스트
  - 연결/연결 끊김 처리 테스트
  - 메시지 라우팅 테스트

**E2E 테스트**
- [ ] Cypress를 통한 E2E 테스트
  - 사용자 등록/로그인 흐름 테스트
  - 파일 업로드부터 다운로드까지 전체 흐름 테스트
  - 결제 프로세스 테스트
  - 오류 시나리오 테스트
- [ ] 크로스 브라우저 테스트
  - Chrome, Firefox, Safari, Edge 테스트
  - 모바일 브라우저 테스트
  - 반응형 디자인 테스트

**성능 테스트**
- [ ] 컴포넌트 성능 테스트
  - 렌더링 성능 측정
  - 메모리 사용량 모니터링
  - 불필요한 리렌더링 감지
- [ ] 번들 크기 최적화
  - 코드 스플리팅 확인
  - 의존성 크기 분석
  - 레이지 로딩 구현
- [ ] 로딩 성능 테스트
  - 초기 로딩 시간 측정
  - 페이지 전환 성능 테스트
  - 캐싱 전략 검증

#### **M8: 빌드 및 배포 준비 (1주)**
**목표**: 프로덕션 배포를 위한 준비 완료

**빌드 최적화**
- [ ] Vite 빌드 설정 최적화
  - 코드 분할 및 레이지 로딩
  - 이미지 최적화 및 웹포맷 변환
  - 압축 및 최소화 설정
- [ ] 환경별 빌드 구성
  - 개발/스테이징/프로덕션 환경 구분
  - 환경 변수 관리
  - API 엔드포인트 설정
- [ ] Docker 컨테이너화
  - 프론트엔드 Dockerfile 작성
  - 다단계 빌드 구성
  - 최적화된 이미지 크기

**CI/CD 파이프라인**
- [ ] GitHub Actions 워크플로우 구성
  - 자동 빌드 및 테스트
  - 코드 품질 검사 (ESLint, Prettier)
  - 배포 자동화
- [ ] 배전 전 품질 검사
  - 코드 커버리지 확인
  - 보안 취약점 스캔
  - 성능 지표 검증
- [ ] 배포 전략
  - 블루-그린 배포
  - 카나리 릴리스
  - 롤백 메커니즘

**모니터링 및 로깅**
- [ ] 프론트엔드 모니터링 도구 연동
  - Sentry 에러 추적
  - 성능 모니터링 (RUM)
  - 사용자 행동 분석
- [ ] 로깅 시스템
  - 클라이언트 사이드 로깅
  - 에러 리포팅
  - 성능 지표 수집
- [ ] 상태 확인 엔드포인트
  - 헬스 체크 구현
  - 리소스 상태 모니터링
  - 알림 메커니즘

#### **M9: 고급 기능 및 최적화 (1주)**
**목표**: 성능 최적화 및 고급 기능 구현

**성능 최적화**
- [ ] 코드 스플리팅 및 레이지 로딩
  - 라우트별 코드 분할
  - 컴포넌트 레이지 로딩
  - 이미지 지연 로딩
- [ ] 상태 관리 최적화
  - 불필요한 리렌더링 방지
  - 상태 선택자 구현
  - 메모이제이션 최적화
- [ ] 네트워크 최적화
  - API 요청 캐싱
  - 요청 중복 방지
  - 오프라인 지원

**고급 UI 기능**
- [ ] 애니메이션 및 전환 효과
  - 페이지 전환 애니메이션
  - 마이크로 인터랙션
  - 로딩 애니메이션
- [ ] 드래그 앤 드롭 고급 기능
  - 여러 파일 동시 업로드
  - 파일 순서 조정
  - 파일 그룹화
- [ ] 커스텀 테마 및 브랜딩
  - 사용자 정의 색상 테마
  - 로고 및 브랜딩 요소
  - 다크 모드 자동 전환

**보안 강화**
- [ ] XSS 방어
  - 사용자 입력 이스케이프
  - DOM XSS 방지
  - 콘텐츠 보안 정책 (CSP)
- [ ] CSRF 보호
  - CSRF 토큰 관리
  - 안전한 요청 처리
- [ ] 민감 데이터 보호
  - 클라이언트 측 데이터 암호화
  - 로컬 저장소 보안
  - API 키 관리

#### **M10: 문서화 및 배포 (1주)**
**목표**: 완성된 문서화 및 최종 배포

**개발자 문서**
- [ ] 컴포넌트 문서화 (Storybook)
  - 컴포넌트 사용법 설명
  - Props 인터페이스 문서
  - 예제 코드 제공
- [ ] API 통합 문서
  - API 엔드포인트 설명
  - 요청/응답 형식
  - 오류 처리 가이드
- [ ] 배포 문서
  - Docker 배포 가이드
  - 환경 설정 설명
  - 문제 해결 가이드

**사용자 문서**
- [ ] 사용자 매뉴얼
  - 웹 인터페이스 사용법
  - 기능별 설명
  - FAQ 및 문제 해결
- [ ] 기술 블로그 및 튜토리얼
  - 프로젝트 소개
  - 주요 기능 설명
  - 사용 팁 및 꿀팁
- [ ] 릴리스 노트
  - 버전별 변경 사항
  - 새로운 기능 소개
  - 알려진 문제점

**최종 배포**
- [ ] 프로덕션 환경 배포
  - 도메인 연결
  - SSL 인증서 설정
  - CDN 구성
- [ ] 모니터링 설정 완료
  - 실시간 모니터링 대시보드
  - 알림 채널 설정
  - 로그 분석 파이프라인
- [ ] 성능 최종 검증
  - 로드 테스트 실행
  - 보안 스캔 완료
  - 사용자 경험 테스트

### M3: 고급 기능 및 품질 보증 (2주)
**목표**: 성능 최적화, 보안 강화, 테스트 커버리지 향상
- [ ] 대용량 PDF 처리 스트리밍 최적화
- [ ] 이미지/텍스트 캐싱 시스템 (Supabase Storage/Edge)
- [ ] 메모리 누수 방지 및 가비지 컬렉션

**보안 강화**
- [ ] 파일 업로드 검증 (확장자, 크기, 바이러스 스캔)
- [ ] 임시 파일 자동 삭제 메커니즘
- [ ] API 레이트 리밋링 (Slowloris 방어)
- [ ] XSS/CSRF 필터링
- [ ] 민감 정보 처리 로깅

**품질 보증**
- [ ] 단위 테스트 확장 (pytest, React Testing Library)
- [ ] 통합 테스트 작성 (API + DB 가짜 객체)
- [ ] E2E 테스트 Cypress 도입
- [ ] 성능 테스트 (locust 또는 k6)
- [ ] 코드 커버리지 80%+ 목표
- [ ] 정적 분석 자동화 (Snyk, SonarQube)

### M4: 배포 및 모니터링 (1주)
**목표**: 프로덕션 환경 배포 및 운영 준비

**배포 파이프라인**
- [ ] Docker 컨테이너화 전략
- [ ] docker-compose 개발 환경 구성
- [ ] Kubernetes/로드밸런싱 고려 (확장성)
- [ ] CI/CD 파이프라인 GitHub Actions
- [ ] 환경별 설정 관리 (개발/스테이징/프로덕션)

**운영 모니터링**
- [ ] 로깅 시스템 (structlog, ELK 스택)
- [ ] 지표 수집 및 경고 (Prometheus/Grafana)
- [ ] 에러 추적 시스템 (Sentry/Sentry)
- [ ] 상태 확인 엔드포인트 (`/health`)
- [ ] 리소스 사용량 모니터링 (CPU, 메모리, 디스크)

---

## 성공 지표 정의

### 기술적 지표
- **텍스트 추출 정확도**: 텍스트 PDF 기준 98% 이상
- **OCR 처리 성공률**: 스캔 PDF 기준 90% 이상
- **한국어 OCR 정확도**: 95% 이상 (PaddleOCR 기준)
- **변환 처리 시간**: 30MB PDF 기준 30초 이내
- **API 응답 시간**: P99 기준 2초 이내
- **오류 발생률**: 변환 실패율 1% 미만

### 사용자 경험 지표
- **파일 업로드 성공률**: 99% 이상
- **변환 완료율**: 성공적으로 완료된 95% 이상
- **사용자 만족도**: 사용자 피드백 4점 이상 (5점 만점)
- **신규 사용자 유입**: 웹 인터페이스 접속자 수 증가

### 운영 지표
- **시스템 가용성**: 99.9% 이상 (연간 다운타임 8.76시간 미만)
- **배포 성공률**: 배포 시도 중 95% 이상 성공
- **자동 복구 시간**: 장애 발생 후 5분 이내 자동 복구

---

## 위험 관리 계획

### 기술적 리스크
| 리스크 | 가능성 | 영향도 | 대응 전략 |
|-------|--------|--------|----------|
| OCR 정확도 미달 | 중 | 높 | 여러 OCR 엔진 비교, PaddleOCR 도입 검토 |
| 대용량 PDF 처리 실패 | 낮 | 높 | 스트리밍 방식 도입, 메모리 최적화 |
| EPUB 호환성 문제 | 중 | 중 | 주요 리더기별 테스트, 유효성 검증 강화 |
| API 성능 저하 | 중 | 중 | 캐싱 전략, 데이터베이스 튜닝 |

### 일정 리스크
| 리스크 | 가능성 | 영향도 | 완화 조치 |
|-------|--------|--------|----------|
| 개발 지연 | 중 | 중 | 스프린트 단위 진행, 우선순위 조정 |
| 기술적 부채 증가 | 높 | 중 | 정기적인 리팩토링 시간 확보 |
| 외부 의존성 문제 | 낮 | 높 | 대체 기술 준비, 오픈소스 커뮤니티 참여 |

---

## 문서화 계획

### 기술 문서
- [ ] API 명세서 (OpenAPI 3.0)
- [ ] 아키텍처 다이어그램 (Mermaid.js 사용)
- [ ] 배포 가이드 (Docker/Kubernetes)
- [ ] 모니터링 대시보드 구성 설명

### 사용자 문서
- [ ] 사용자 매뉴얼 (웹 인터페이스)
- [ ] CLI 사용법 설명
- [ ] API 호출 가이드 (개발자용)
- [ ] 자주 묻는 질문 (FAQ)

### 내부 문서
- [ ] 코드 컨벤션 가이드
- [ ] 테스트 전략 문서
- [ ] 운영 절차 매뉴얼
- [ ] 장애 대응 프로토콜

---

## 기타 고려사항

### 법적/규정 준수
- [ ] 개인정보 처리 방침 (GDPR, 한국 PPL)
- [ ] 저작권 보호 (EPUB 메타데이터 포함)
- [ ] 서비스 약관 (이용 조건 및 제한)

### 지속적 개선
- [ ] 사용자 피드백 수집 메커니즘
- [ ] 정기적인 성능 리뷰 회의
- [ ] 새로운 OCR 기술 지속적 평가
- [ ] 커뮤니티 기반 기여 장려

---

## 업데이트 로그
- **2024-09-17**: 초기 버전 작성, 프로젝트 개요 및 M0 단계 정의
- **2024-09-17**: 핵심 라이브러리 목록 업데이트 (PaddleOCR로 변경, 의존성 추가)
- **2024-09-19**: VSCode Python 개발 환경 최적화 완료 (.vscode 설정 파일 구성, 코드 품질 도구 설치 및 검증)
- **2025-09-19**: 디버깅 환경 구축 완료 - 로깅 모듈(`app/core/logging_config.py`) 생성, `main.py`에 적용, VSCode 설정 보완, 테스트 및 코드 품질 검사 통과


---
## 업데이트 로그 (프론트엔드 TODO 상세화)
- **2025-09-24**: 프론트엔드 TODO 항목 상세화 - React + TypeScript 기반의 체계적인 개발 계획으로 전면 개편 (M1-M10 단계별 계획, 컴포넌트 아키텍처, 상태 관리, UI/UX, 테스트, 배포 등 상세 항목 추가)



