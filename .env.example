# ====== 애플리케이션 기본 설정 ======
# 애플리케이션 이름
APP_NAME=PDF to EPUB Converter

# 버전 정보
VERSION=1.0.0

# 디버그 모드 활성화 (true/false)
DEBUG=false

# API 접두사
API_V1_PREFIX=/api/v1

# 서버 설정
HOST=0.0.0.0
PORT=8000


# ====== 데이터베이스 설정 ======
# 데이터베이스 URL (SQLite 기본값, PostgreSQL 사용 시: postgresql://user:password@host:port/database)
DB_URL=sqlite:///./pdf_to_epub.db

# PostgreSQL을 사용하는 경우 설정 예시:
# DB_URL=postgresql://user:password@localhost:5432/pdf_to_epub

# 데이터베이스 커넥션 풀 크기
DB_POOL_SIZE=20

# 최대 오버플로 커넥션 수
DB_MAX_OVERFLOW=30


# ====== Redis 설정 ======
# Redis 호스트 주소
REDIS_HOST=localhost

# Redis 포트 번호
REDIS_PORT=6379

# Redis 비밀번호 (없는 경우 생략)
REDIS_PASSWORD=

# Redis 데이터베이스 번호
REDIS_DB=0


# ====== OCR 설정 ======
# OCR 기능 활성화 여부 (true/false)
OCR_ENABLED=true

# OCR 기본 언어 (ko: 한국어, en: 영어)
OCR_LANGUAGE=ko

# Paddle OCR 모델 종류 (korean, english 등)
OCR_PADDLE_OCR_MODEL=korean

# OCR 처리 최대 워커 수
OCR_MAX_WORKERS=4


# ====== LLM 설정 ======
# LLM 제공업체 (openrouter, openai 등)
LLM_PROVIDER=openrouter

# 사용할 LLM 모델
LLM_MODEL_NAME=deepseek/deepseek-chat

# API 키 (각 서비스별로 발급받은 키 사용)
LLM_API_KEY=

# API 기본 URL (커스텀 엔드포인트 사용 시)
LLM_BASE_URL=

# 최대 토큰 수
LLM_MAX_TOKENS=4000

# 생성 온도 (0-1)
LLM_TEMPERATURE=0.1

# 요청 타임아웃 (초)
LLM_TIMEOUT=60


# ====== 변환 설정 ======
# 최대 파일 크기 (바이트 기준, 50MB)
CONVERSION_MAX_FILE_SIZE=52428800

# 지원하는 파일 형식 목록 (JSON 배열)
CONVERSION_SUPPORTED_FORMATS=["pdf"]

# 출력 EPUB 버전
CONVERSION_OUTPUT_FORMAT=epub3

# 텍스트 처리 청크 크기
CONVERSION_CHUNK_SIZE=1000

# 임시 파일 자동 삭제 여부 (true/false)
CONVERSION_CLEANUP_TEMP_FILES=true


# ====== CORS 설정 ======
# 추가로 허용할 호스트 목록 (쉼표로 구분)
ALLOWED_HOSTS=http://localhost:3000,http://127.0.0.1:5173


# ====== 로깅 설정 ======
# 로그 레벨 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 로깅 형식 (simple: 간단한, detailed: 상세)
LOG_FORMAT=detailed

# 파일 로깅 사용 여부 (true/false)
LOG_TO_FILE=false

# 로그 파일 경로
LOG_FILE_PATH=logs/app.log


# ====== 보안 설정 ======
# JWT 비밀 키 (랜덤한 문자열로 설정)
JWT_SECRET_KEY=your-super-secret-jwt-key-here-change-this-in-production

# 신규 보안 설정 (애플리케이션 SecuritySettings 사용)
# 운영환경에서는 반드시 안전한 값으로 설정하세요
SECURITY_JWT_SECRET=change-me
SECURITY_API_KEY=your-api-key-here

# JWT 액세스 토큰 만료 시간 (분)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# JWT 리프레시 토큰 만료 시간 (일)
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7


# ====== 파일 업로드 설정 ======
# 최대 업로드 크기 (바이트 기준)
UPLOAD_MAX_SIZE=104857600

# 업로드 디렉토리
UPLOAD_DIR=temp_uploads

# 허용된 파일 확장자
ALLOWED_EXTENSIONS=["pdf"]


# ====== 캐시 설정 ======
# 캐시 만료 시간 (초)
CACHE_EXPIRE_SECONDS=3600

# Redis를 사용한 세션 저장소 활성화
USE_REDIS_SESSION=true


# ====== 모니터링 설정 ======
# 메트릭 수집 활성화
METRICS_ENABLED=true

# 상태 확인 엔드포인트 경로
HEALTH_CHECK_PATH=/health


# ====== Celery 설정 (비동기 작업) ======
# Celery 브로커 URL
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery 백엔드 URL
CELERY_BACKEND_URL=redis://localhost:6379/2

# 작업 큐 이름
CELERY_QUEUE_NAME=pdf_conversion

# 작업 타임아웃 (초)
CELERY_TASK_TIMEOUT=300
